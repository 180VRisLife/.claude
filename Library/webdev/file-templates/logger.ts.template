/**
 * logger.ts
 * {{PROJECT_NAME}}
 *
 * Centralized logging utility with development/production modes
 * Auto-generated by /init-workspace
 */

type LogCategory = 'api' | 'ui' | 'data' | 'auth' | 'network' | 'general';
type LogLevel = 'debug' | 'info' | 'warn' | 'error';

const IS_DEVELOPMENT = process.env.NODE_ENV === 'development';

/**
 * Enhanced console logger with categories and levels
 * Development: Verbose logging with categories
 * Production: Minimal logging (warnings and errors only)
 */
class Logger {
	/**
	 * Debug-level logging (development only)
	 */
	debug(message: string, category: LogCategory = 'general', data?: unknown): void {
		if (!IS_DEVELOPMENT) return;

		const formatted = this.format('debug', message, category);
		console.debug(formatted, data || '');
	}

	/**
	 * Info-level logging (development only)
	 */
	info(message: string, category: LogCategory = 'general', data?: unknown): void {
		if (!IS_DEVELOPMENT) return;

		const formatted = this.format('info', message, category);
		console.info(formatted, data || '');
	}

	/**
	 * Warning-level logging (all environments)
	 */
	warn(message: string, category: LogCategory = 'general', data?: unknown): void {
		const formatted = this.format('warn', message, category);
		console.warn(formatted, data || '');

		// In production, you might want to send warnings to a service
		if (!IS_DEVELOPMENT) {
			// this.sendToMonitoring('warn', formatted, data);
		}
	}

	/**
	 * Error-level logging (all environments)
	 */
	error(message: string, category: LogCategory = 'general', error?: Error | unknown): void {
		const formatted = this.format('error', message, category);
		console.error(formatted, error || '');

		// In production, send errors to monitoring service
		if (!IS_DEVELOPMENT) {
			// this.sendToMonitoring('error', formatted, error);
		}
	}

	/**
	 * Log a separator for visual organization (development only)
	 */
	separator(): void {
		if (!IS_DEVELOPMENT) return;
		console.log('-'.repeat(80));
	}

	/**
	 * Format log message with timestamp and category
	 */
	private format(level: LogLevel, message: string, category: LogCategory): string {
		const timestamp = new Date().toISOString();
		const levelUpper = level.toUpperCase();
		const categoryUpper = category.toUpperCase();

		return `[${timestamp}] [${levelUpper}] [${categoryUpper}] ${message}`;
	}

	/**
	 * Send logs to monitoring service (implement as needed)
	 */
	private sendToMonitoring(level: LogLevel, message: string, data?: unknown): void {
		// Implement integration with Sentry, LogRocket, Datadog, etc.
		// Example:
		// if (typeof window !== 'undefined' && window.Sentry) {
		//   window.Sentry.captureMessage(message, { level, extra: data });
		// }
	}
}

// Export singleton instance
export const logger = new Logger();

/**
 * Usage examples:
 *
 * import { logger } from '@/lib/logger';
 *
 * // Development only
 * logger.debug('User clicked button', 'ui', { buttonId: 'submit' });
 * logger.info('API request started', 'api', { endpoint: '/users' });
 *
 * // All environments
 * logger.warn('API rate limit approaching', 'network');
 * logger.error('Failed to fetch data', 'api', error);
 */
